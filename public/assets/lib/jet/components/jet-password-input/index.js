import JetField from"../../shared-components/jet-field/index.js";class JetPasswordInput extends JetField{static observedAttributes=["show-password"];constructor(){super()}connectedCallback(){super.connectedCallback(),this.inputEl.setAttribute("type","password"),this.inputEl.addEventListener("input",t=>{t.target.value=this.formatValue(t.target.value)}),this.inputEl.addEventListener("change",t=>{t.target.value=this.formatValue(t.target.value)})}attributeChangedCallback(t,e,s){super.attributeChangedCallback(),"show-password"===t&&this.inputEl.setAttribute("type",""===s?"text":"password")}validate({isTouched:t=!1}={}){t&&this.setAttribute("touched","");const e=this.inputEl.value;if(!this.hasAttribute("required")||e)if(!this.hasAttribute("password-pattern")||/[A-Za-z0-9!@#$%^&*()_+\-=\[\]{};':"\\|,.<>\/?]*$/.test(e)){if(this.customValidate){const t=this.customValidate(e);if(t)return void this._handleInvalid({customError:!0},t)}this._handleValid()}else this._handleInvalid({typeMismatch:!0},this.getAttribute("invalid-message")||"Password is invalid");else super._handleInvalid({valueMissing:!0},this.getAttribute("required-message")||"Password is required")}formatValue(t){const e=this.getAttribute("max-length")||1/0;return t.length>e?t.slice(0,e):t}}customElements.define("jet-password-input",JetPasswordInput);