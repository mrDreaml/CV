import JetField from"../../shared-components/jet-field/index.js";class JetEmailInput extends JetField{constructor(){super()}connectedCallback(){super.connectedCallback(),this.inputEl.setAttribute("type","text"),this.inputEl.setAttribute("inputmode","email"),this.inputEl.setAttribute("autocomplete","email"),this.inputEl.addEventListener("input",t=>{t.target.value=this.formatValue(t.target.value)}),this.inputEl.addEventListener("change",t=>{t.target.value=this.formatValue(t.target.value)})}validate({isTouched:t=!1}={}){t&&this.setAttribute("touched","");const e=this.inputEl.value;if(!this.hasAttribute("required")||e)if(!this.hasAttribute("email-pattern")||/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/.test(e)){if(this.customValidate){const t=this.customValidate(e);if(t)return void this._handleInvalid({customError:!0},t)}this._handleValid()}else this._handleInvalid({typeMismatch:!0},this.getAttribute("invalid-message")||"Email is invalid");else this._handleInvalid({valueMissing:!0},this.getAttribute("required-message")||"Email is required")}formatValue(t){const e=this.getAttribute("max-length")||1/0;return t.length>e?t.slice(0,e):t}}customElements.define("jet-email-input",JetEmailInput);